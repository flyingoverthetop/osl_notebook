{% load i18n %}



<span class="notices">
<span class="hide_notice" title="{% trans "hide notices" %}"><img src="/site_media/img/delete-cross-small.gif"/></span>
<ul>
</ul>
</span>

<script type="text/javascript">    
$(document).ready(function(){	

        //displaying notifications
            $('.notices').hide(0);
        
        $.get('/getNotices/',{}, gotNotices, 'json');            
                      
        function gotNotices(notices){    
                 if  (notices.length == 0){
                         //$('.notices').hide(0);
                 }else{                 
                      for(var i = 0; i < notices.length; i++){
                           //TODO:not able to translate inside js?
                             $('.notices').find('ul').append(' <li notice_id="'+notices[i][0]+'"><a  href="'+notices[i][2]+'">'+notices[i][1]+'</a></li>');                 
                      }
                    $('.notices').show(0);
                  }                   
        }
        

     
        
         $('.hide_notice'). click(function(){
                        $(this).parents('span.notices').hide(0);
                });	
	});                
   
	
</script>


